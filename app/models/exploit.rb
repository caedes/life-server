class Exploit < ActiveRecord::Base
  belongs_to :exploit_type

  validates :title, :held_at, :exploit_type_id, presence: true

  after_initialize :default_values

  private

  def default_values
    self.exploit_type ||= ExploitType.find_by name: 'calendar'
  end
end
